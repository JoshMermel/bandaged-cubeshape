<!DOCTYPE html>
<html>

<head>
    <title>Bandaged Cube GUI</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
        crossorigin="anonymous"></script>
    <style>
        td {
            text-align: center;
            font-family: monospace;
            min-width: 10px;
        }

        .blue {
            background-color: rgb(74, 74, 247);
        }

        .grey {
            background-color: rgb(227, 222, 222);
        }

        .orange {
            background-color: orange;
        }

        .red {
            background-color: red;
        }

        .green {
            background-color: green;
        }

        .yellow {
            background-color: yellow;
        }
    </style>

    <script>

        window.onload = function () {

            function constructCelltable(id) {
                var celltable = document.getElementById(id);

                const CellType = {
                    Number: 0,
                    HorizontalEdge: 1,
                    VerticalEdge: 2,
                    Empty: 3,
                };

                function makeCell(cellType, idNumber, initColor) {
                    let cell = document.createElement('td');
                    cell.classList.add(initColor);
                    var id = "";
                    if (cellType == CellType.Number) {
                        cell.innerText = idNumber;
                        cell.classList.add("cell");
                        id += "c";
                    } else if (cellType == CellType.HorizontalEdge) {
                        cell.innerText = "---";
                        cell.classList.add("edge");
                        id += "e";
                    } else if (cellType == CellType.VerticalEdge) {
                        cell.innerText = "|";
                        cell.classList.add("edge");
                        id += "e";
                    }

                    id += String(idNumber).padStart(2, "0");
                    id += initColor;
                    cell.id = id;

                    return cell;
                }

                function makeFiveEmpties() {
                    return [makeCell(CellType.Empty, 0, "white"),
                        , makeCell(CellType.Empty, 0, "white"),
                        , makeCell(CellType.Empty, 0, "white"),
                        , makeCell(CellType.Empty, 0, "white"),
                        , makeCell(CellType.Empty, 0, "white")];
                }

                function makeFiveCells(ls, color) {
                    return [makeCell(CellType.Number, ls.shift(), color),
                        , makeCell(CellType.VerticalEdge, ls.shift(), color),
                        , makeCell(CellType.Number, ls.shift(), color),
                        , makeCell(CellType.VerticalEdge, ls.shift(), color),
                        , makeCell(CellType.Number, ls.shift(), color)];
                }

                function makeFiveEdges(ls, color) {
                    return [makeCell(CellType.HorizontalEdge, ls.shift(), color),
                        , makeCell(CellType.Empty, 0, color),
                        , makeCell(CellType.HorizontalEdge, ls.shift(), color),
                        , makeCell(CellType.Empty, 0, color),
                        , makeCell(CellType.HorizontalEdge, ls.shift(), color)];
                }

                function makeRowEmptyCells(ls, color) {
                    let row = document.createElement('tr');
                    makeFiveEmpties().forEach(el => row.appendChild(el));
                    makeFiveCells(ls, color).forEach(el => row.appendChild(el));
                    makeFiveEmpties().forEach(el => row.appendChild(el));
                    makeFiveEmpties().forEach(el => row.appendChild(el));
                    return row;
                }

                function makeRowEmptyEdges(ls, color) {
                    let row = document.createElement('tr');
                    makeFiveEmpties().forEach(el => row.appendChild(el));
                    makeFiveEdges(ls, color).forEach(el => row.appendChild(el));
                    makeFiveEmpties().forEach(el => row.appendChild(el));
                    makeFiveEmpties().forEach(el => row.appendChild(el));
                    return row;
                }

                function makeRowFullCells(lsls, colorls) {
                    let row = document.createElement('tr');
                    makeFiveCells(lsls.shift(), colorls.shift()).forEach(el => row.appendChild(el));
                    makeFiveCells(lsls.shift(), colorls.shift()).forEach(el => row.appendChild(el));
                    makeFiveCells(lsls.shift(), colorls.shift()).forEach(el => row.appendChild(el));
                    makeFiveCells(lsls.shift(), colorls.shift()).forEach(el => row.appendChild(el));
                    return row;
                }

                function makeRowFullEdges(lsls, colorls) {
                    let row = document.createElement('tr');
                    makeFiveEdges(lsls.shift(), colorls.shift()).forEach(el => row.appendChild(el));
                    makeFiveEdges(lsls.shift(), colorls.shift()).forEach(el => row.appendChild(el));
                    makeFiveEdges(lsls.shift(), colorls.shift()).forEach(el => row.appendChild(el));
                    makeFiveEdges(lsls.shift(), colorls.shift()).forEach(el => row.appendChild(el));
                    return row;
                }

                celltable.appendChild(makeRowEmptyCells([9, 11, 8, 10, 7], "blue"))
                celltable.appendChild(makeRowEmptyEdges([30, 19, 18], "blue"));
                celltable.appendChild(makeRowEmptyCells([30, 32, 29, 31, 28], "blue"))
                celltable.appendChild(makeRowEmptyEdges([41, 40, 39], "blue"));
                celltable.appendChild(makeRowEmptyCells([51, 53, 50, 52, 49], "blue"))
                celltable.appendChild(makeRowFullCells([[11, 20, 32, 41, 53], [41, 53, 40, 52, 39], [52, 39, 31, 18, 10], [18, 10, 19, 11, 20]], ["orange", "grey", "red", "yellow"]));
                celltable.appendChild(makeRowFullEdges([[9, 30, 51], [51, 50, 49], [49, 28, 7], [7, 8, 9]], ["orange", "grey", "red", "yellow"]));
                celltable.appendChild(makeRowFullCells([[6, 17, 27, 38, 48], [38, 48, 37, 47, 36], [47, 36, 26, 15, 5], [15, 5, 16, 6, 17]], ["orange", "grey", "red", "yellow"]));
                celltable.appendChild(makeRowFullEdges([[4, 25, 46], [46, 45, 44], [44, 23, 2], [2, 3, 4]], ["orange", "grey", "red", "yellow"]));
                celltable.appendChild(makeRowFullCells([[1, 14, 22, 35, 43], [35, 43, 34, 42, 33], [42, 33, 21, 12, 0], [12, 0, 13, 1, 14]], ["orange", "grey", "red", "yellow"]));
                celltable.appendChild(makeRowEmptyCells([46, 43, 45, 42, 44], "green"))
                celltable.appendChild(makeRowEmptyEdges([35, 34, 33], "green"));
                celltable.appendChild(makeRowEmptyCells([25, 22, 24, 21, 23], "green"))
                celltable.appendChild(makeRowEmptyEdges([14, 13, 12], "green"));
                celltable.appendChild(makeRowEmptyCells([4, 1, 3, 0, 2], "green"))
            }

            constructCelltable("celltable");

            function printBeenClicked() {
                document.getElementById("beenClicked").innerText = JSON.stringify(beenClicked);
            }

            beenClicked = {}
            for (var i = 0; i <= 53; i++) {
                for (var color of ["red", "blue", "green", "grey", "yellow", "orange"]) {
                    var id = "e" + String(i).padStart(2, '0') + color;
                    var edgeElement = document.getElementById(id);
                    if (edgeElement == null) {
                        continue;
                    }
                    edgeElement.onclick = function (event) {
                        var elementId = event.target.id;
                        var numberInfix = elementId.slice(1).slice(0, 2);
                        var elements = document.querySelectorAll('[id^="e' + numberInfix + '"]');
                        for (const el of elements) {
                            el.style.color = window.getComputedStyle(el).backgroundColor;
                        }
                        beenClicked[numberInfix] = true;

                        printBeenClicked();

                    };
                }
            }

            for (const v of [29, 27, 37, 26, 16, 24]) {
                for (var color of ["red", "blue", "green", "grey", "yellow", "orange"]) {
                    var id = "c" + String(v).padStart(2, '0') + color;
                    var cellElement = document.getElementById(id);
                    if (cellElement == null) {
                        continue;
                    }
                    cellElement.onclick = function (event) {
                        var element = event.target;
                        var elementId = element.id;
                        var numberInfix = elementId.slice(1).slice(0, 2);
                        beenClicked[numberInfix] = true;
                        element.innerText = "x";

                        printBeenClicked();
                    }
                }
            }
        }

    </script>

</head>

<body>

    <h1>This is a Heading</h1>
    <p>This is a paragraph.</p>

    <table id="celltable">
    </table>

    <br />

    <span id="beenClicked"></span>

</body>

</html>